<!DOCTYPE html>
<html>
  <head>
    <title>GPU Processing</title>

    <script type="text/javascript" src="GLEffect.class.js"></script>
    <script type="text/javascript" src="gpu.js"></script>

    <style>
        td {
            vertical-align: top;
            padding: 5px;
        }
    </style>
  </head>

  <body onload="init()">

    <div id="content">

      <!-- INPUT IMAGE/VIDEO -->
      <fieldset id="dropZone">
        <legend>Input Image/Video</legend>
        <input type="button" value="Select" onclick="$('inputFile').click()"
            title="Load an image or a video..."/>
        or drag here an image or a video...<br/>
        <input type="file" id="inputFile" style="display:none"/>
        <img id="inputImage" width="1" height="1"/>
        <video id="inputVideo" width="1" height="1" controls="controls" src=""></video>
      </fieldset>
      <!-- FILTERS MENU -->
      <fieldset>
        <legend>Filters</legend>
        <table>
          <tr>
            <!-- filters list -->
            <td>
              Active&nbsp;filters:<br/>
              <select id="filterList" size="5" style="min-width: 7em"
                  onchange="expandSelectedFilter(true)"
                  title="List of active filter (click to edit)">
                <option>Loading...</option>
              </select><br/>
              <input type="button" value="New..." onclick="appendNewFilter()" title="Add a new filter">
            </td>
            <!-- filter details -->
            <td id="filterDetails" style="display: none; padding-left: 20px">
              <label>Name: <input type="text" id="shaderName" title="Name of the filter"/></label>
              <input type="button" value="Compile" onclick="compileSelectedFilter()" style="font-weight: bold"
                  title="Recompile the filter to apply any changes"/>
              <input type="checkbox" id="shaderEnabled" onclick="toggleSelectedFilter(this)"
                  title="Enable / disable the filter">
              <input type="button" value="Close" onclick="expandSelectedFilter(false)"
                  title="Close the filter's details without saving"/>
              <input type="button" value="Delete" onclick="deleteSelectedFilter()"
                  title="Delete this filter"/><br/>
              <label>Parameters: <input type="text" id="shaderOpts" title="Filter options"
                  onkeypress="ifEnterPressed(event, compileSelectedFilter)">
              </label><br/>
              <textarea cols="60" rows="12" id="shaderCode"></textarea>
            </td>
            <!-- parameters list -->
            <td>
              Parameters:<br/>
              <select id="paramList" size="5" style="min-width:10em"
                  onclick="displaySelectedParam()"
                  title="List of editable parameters (click to edit)">
                <option>Loading...</option>
              </select><br/>
              <input type="text" id="paramValue" style="width:10em"
                  onkeypress="ifEnterPressed(event, updateSelectedParam)"/>
            </td>
          </tr>
        </table>
      </fieldset>
      <!-- OUTPUT -->
      <fieldset>
        <legend>Output</legend>
        <input type="text" id="outputStatus" size="20" readonly="readonly" title="Filtering time"/><br/>
        <canvas id="outputCanvas" width="1px" height="1px"></canvas>
      </fieldset>
    </div>

  </body>
</html>
